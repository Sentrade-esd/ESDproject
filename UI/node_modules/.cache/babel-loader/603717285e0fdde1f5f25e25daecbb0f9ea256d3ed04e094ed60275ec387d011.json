{"ast":null,"code":"var _jsxFileName = \"C:\\\\ESD\\\\Web UI\\\\web_ui\\\\src\\\\Components\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search() {\n  _s();\n  const [search, setSearch] = useState('');\n  const [results, setResults] = useState([]);\n  const searchInputRef = useRef();\n  const clearSearch = () => {\n    setSearch('');\n    searchInputRef.current.focus();\n    setResults([]);\n  };\n\n  // const performSearch = (query) => {\n  //     // Replace this with actual API call or search within your data\n  //     // Here as a mock, we randomly return array of 10 results\n  //     return new Promise(resolve => {\n  //         setTimeout(() => {\n  //             resolve(Array(10).fill(0).map((_, i) => `Result ${i + 1}`));\n  //         }, 2000);\n  //     });\n  // }\n\n  const performSearch = async query => {\n    const API_KEY = 'GIC3VJ1I8N8DXJAO';\n    const searchUrl = `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${query}&apikey=${API_KEY}`;\n    try {\n      const response = await axios.get(searchUrl);\n      // Post-processing to filter only US-based companies\n      const usResults = response.data.bestMatches.filter(match => match['4. region'] === 'United States');\n      return usResults.map(match => match['2. name']); // returns the names\n    } catch (error) {\n      console.error(`There was an error retrieving the search results: ${error}`);\n    }\n  };\n  const handleSearchChange = async e => {\n    const value = e.target.value;\n    setSearch(value);\n    if (value) {\n      const res = await performSearch(value);\n      setResults(res);\n    } else {\n      setResults([]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 10,\n        lg: 10,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Just imagine the search box works\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            className: \"form-control rounded\",\n            placeholder: \"Search for a Company here to find out more about it!\",\n            value: search,\n            onChange: handleInputChange,\n            onKeyDown: handleInputKeyDown,\n            ref: searchInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearSearch,\n            className: \"input-group-text border-0\",\n            id: \"search-addon\",\n            \"aria-label\": \"Clear search field\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-search\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), results.map((result, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: result\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 53\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_s(Search, \"GrIYzL3uRd5Z6sMNiMgvYiPqCwg=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useRef","Container","Row","Col","axios","jsxDEV","_jsxDEV","Search","_s","search","setSearch","results","setResults","searchInputRef","clearSearch","current","focus","performSearch","query","API_KEY","searchUrl","response","get","usResults","data","bestMatches","filter","match","map","error","console","handleSearchChange","e","value","target","res","children","className","md","lg","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","handleInputChange","onKeyDown","handleInputKeyDown","ref","onClick","id","result","index","_c","$RefreshReg$"],"sources":["C:/ESD/Web UI/web_ui/src/Components/Search.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport axios from 'axios';\r\n\r\n\r\nfunction Search() {\r\n    const [search, setSearch] = useState('');\r\n    const [results, setResults] = useState([]);\r\n    const searchInputRef = useRef();\r\n\r\n    const clearSearch = () => {\r\n        setSearch('');\r\n        searchInputRef.current.focus();\r\n        setResults([]);\r\n    };\r\n\r\n    // const performSearch = (query) => {\r\n    //     // Replace this with actual API call or search within your data\r\n    //     // Here as a mock, we randomly return array of 10 results\r\n    //     return new Promise(resolve => {\r\n    //         setTimeout(() => {\r\n    //             resolve(Array(10).fill(0).map((_, i) => `Result ${i + 1}`));\r\n    //         }, 2000);\r\n    //     });\r\n    // }\r\n\r\n\r\n    const performSearch = async (query) => {\r\n        const API_KEY = 'GIC3VJ1I8N8DXJAO';\r\n        const searchUrl = `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${query}&apikey=${API_KEY}`;\r\n    \r\n        try {\r\n            const response = await axios.get(searchUrl);\r\n            // Post-processing to filter only US-based companies\r\n            const usResults = response.data.bestMatches.filter(match => match['4. region'] === 'United States');\r\n            \r\n            return usResults.map(match => match['2. name']); // returns the names\r\n        } catch (error) {\r\n            console.error(`There was an error retrieving the search results: ${error}`);\r\n        }\r\n    }\r\n\r\n    const handleSearchChange = async(e) => {\r\n        const value = e.target.value;\r\n        setSearch(value);\r\n        if (value) {\r\n            const res = await performSearch(value);\r\n            setResults(res);\r\n        } else {\r\n            setResults([]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row className=\"justify-content-center\">\r\n                <Col md={10} lg={10}>\r\n                    <h1>Just imagine the search box works</h1>\r\n                    <div className=\"input-group rounded\">\r\n                    <input type=\"search\" className=\"form-control rounded\" placeholder=\"Search for a Company here to find out more about it!\"\r\n                    value={search} onChange={handleInputChange} onKeyDown={handleInputKeyDown} ref={searchInputRef} />\r\n                        <button onClick={clearSearch} className=\"input-group-text border-0\" id=\"search-addon\" aria-label=\"Clear search field\">\r\n                            <i className=\"fas fa-search\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                    {results.map((result, index) => <p key={index}>{result}</p>)}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}