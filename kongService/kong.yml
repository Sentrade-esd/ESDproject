_format_version: "1.1"
services:
  - name: sentiment-service
    url: http://app:5001/
    routes:
      - name: welcome-route
        paths:
          - /sentimentAPI
        methods:
          - GET
        strip_path: false

      - name: query-route
        paths:
          - /sentimentAPI/sentiment_query  # Define the full path including the base path
        methods:
          - GET
        strip_path: false

      - name: comment-route
        paths:
          - /sentimentAPI/sentiment_comment  # Define the full path including the base path
        methods:
          - POST
        strip_path: false

  - name: 
    url: http://watchlist:3000/
    routes:
      - name: watchlist-add
        paths:
          - /watchlist/add
        methods:
          - POST
        strip_path: false
        
      - name: watchlist-remove
        paths:
          - /watchlist/remove
        methods:
          - POST
        strip_path: false

      - name: watchlist-getuser
        paths:
          - /watchlist/user/:id
        methods:
          - GET
        strip_path: false

      - name: watchlist-getcompany
        paths:
          - /watchlist/company/:company
        methods:
          - GET
        strip_path: false

- name: user-service
    url: http://user_service:5000/
    routes:
      - name: user
        paths:
          - /user
        methods:
          - GET
          - POST
        strip_path: false

      - name: get-user
        paths:
          - /user/(.*)
        methods:
          - GET
          - POST
        strip_path: false